<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Profile</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/profile.css">
</head>
<body>
<div id="main-area">
    <div id="nav-bar">
        <div class="row row-center">
            <div class="col-3 logo">
                <img src="/images/logo.png"/>
            </div>
            <div class="col-9 nav-menu">
                <span class="menu-link" th:action="@{/profile}">내 프로필</span>
                <form th:action="@{/userLogout}" method="post">
                    <button type="submit" class="submit-button">로그아웃</button>
                </form>
                <span th:text="${user.nickname}"></span>
                <img th:src="@{/images/badge_{imageName}.png(imageName=${user.getGrade().getGradeName()})}" class="member-badge-icon"/>
            </div>
        </div>
    </div>
    <div id="main-content" class="soft-bg">
        <div class="row">
            <div id="profile-left" class="col-5">
                <span class="title">내 프로필</span><br><br>
                <div class="image-box">
                    <img th:src="@{/images/badge_{imageName}.png(imageName=${user.getGrade().getGradeName()})}" class="badge-img"/>
                </div>
                <button id="edit-user-btn" class="normal-button">수정</button>
            </div>
            <div id="profile-right" class="col-7">
                <span class="title" th:text="'You are a ' + ${user.getGrade().getGradeName()} + ' now!'"></span><br><br><br>
                <div class="form-content">
                    <input type="hidden" id="user-id" th:value="${user.getUserId()}">
                    <div class = "row text">
                        <div class="col-2">닉네임 :</div>
                        <div class="col-10">
                            <span id="nickname-label" th:text="${user.getNickname()}"></span>
                            <input type="hidden" id="nickname-ori" th:value="${user.getNickname()}">
                            <div class="col-9">
                                <input type="text" id="nickname-input" class="form-control" placeholder="nickname" th:value="${user.getNickname()}">
                            </div>
                            <div class="col-3">
                                <button type="button" id="check-nickname-btn" class="normal-button">체크</button>
                            </div>
                        </div>
                    </div>
                    <div class = "row text">
                        <div class="col-2">이메일 :</div>
                        <div class="col-10" th:text="${user.getEmail()}"></div>
                    </div>
                    <div class = "row text">
                        <div class="col-2">가입일 :</div>
                        <div class="col-10" th:text="${#temporals.format(user.getRegisterDate(), 'yyyy-MM-dd HH:mm:ss')}"></div>
                    </div>
                    <div class = "row text">
                        <div class="col-2">포인트 :</div>
                        <div class="col-10" th:text="${user.getPoint()}"></div>
                    </div>
                </div>
                <button type="button" id="terminate-user-btn" class="normal-button">탈퇴</button>
                <button type="button" id="save-user-btn" class="normal-button">저장</button>
                <button type="button" id="cancel-user-btn" class="normal-button">취소</button>
            </div>
        </div>
    </div>
</div>
<script src="/js/user.js"></script>
</body>
</html>